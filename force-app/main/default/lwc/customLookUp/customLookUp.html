<template>
  <template if:false={selectedRecord}>
    <div class="slds-m-around_small">
      <c-search-component onsearch={handleSearch}></c-search-component>
    </div>
  </template>

  <template if:false={selectedRecord}>
    <template if:true={records}>
      <template for:each={records} for:item="rec">
        <c-record-list
          key={rec.Id}
          record={rec}
          iconname={iconname}
          onselect={handleSelect}
        ></c-record-list>
      </template>
    </template>
  </template>
  <div class="slds-p-around_x-small">
    <template if:true={selectedRecord}>
      <div
        class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_left-right"
        role="none"
      >
        <span
          class="slds-icon_container
                                      slds-icon-standard-account 
                                      slds-combobox__input-entity-icon"
          title="Account"
        >
          <lightning-icon icon-name={iconname}></lightning-icon>
        </span>
        <input
          class="slds-input slds-combobox__input
                                 slds-combobox__input-value"
          id="combobox-id-5"
          aria-controls="listbox-id-5"
          autocomplete="off"
          role="textbox"
          type="text"
          placeholder="Select an Option"
          readonly=""
          value={selectedRecord.Name}
          disabled
        />
        <button
          class="sicon_container slds-button slds-button_icon 
                                         slds-input__icon slds-input__icon_right"
          title="Remove selected option"
          onclick={handleRemove}
        >
          <lightning-icon icon-name="utility:close" size="small">
          </lightning-icon>
          <span class="slds-assistive-text">Remove selected option</span>
        </button>
      </div>
    </template>
  </div>
</template>
